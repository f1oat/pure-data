#N canvas 717 335 1440 722 10;
#X obj 3 6 hoa.tuto.header;
#X obj 546 6 hoa.help.pub;
#X obj 11 467 hoa.scope~ @size 225 225 @receive "(null)" @send "(null)" @nosave 0 @pinned 0 @background_color 0.93 0.93 0.93 1 @border_color 0.6 0.6 0.6 1 @label_color 0 0 0 1 @ph_color 1 0 0 1 @nh_color 0 0 1 1 @fontname "Helvetica" @fontweight "normal" @fontslant "roman" @fontsize 11 @label "(null)" @label_inner 0 @label_side "top" @label_align "left" @label_valign "top" @label_margins 0 0 @gain 100 @refresh 100 @order 1 @view 0;
#X obj 120 356 sig~ 1;
#X obj 383 468 hoa.scope~ @size 226 226 @receive "(null)" @send "(null)" @nosave 0 @pinned 0 @background_color 0.93 0.93 0.93 1 @border_color 0.6 0.6 0.6 1 @label_color 0 0 0 1 @ph_color 1 0 0 1 @nh_color 0 0 1 1 @fontname "Helvetica" @fontweight "normal" @fontslant "roman" @fontsize 11 @label "(null)" @label_inner 0 @label_side "top" @label_align "left" @label_valign "top" @label_margins 0 0 @gain 100 @refresh 100 @order 7 @view 0;
#X obj 383 386 sig~ 1;
#X text 70 357 Source;
#X obj 11 419 *~ 1;
#X obj 230 421 *~ 1;
#X obj 120 421 *~ 0;
#X obj 141 396 sin;
#X obj 251 396 cos;
#X text 17 440 Harmonic 0;
#X text 127 440 Harmonic -1;
#X text 237 440 Harmonic 1;
#X text 365 136 if m < 0;
#X text 365 166 else;
#X text 615 444 Look inside;
#X text 633 279 Dsp On/Off;
#X text 3 191 For an order of decomposition 1 \, the sound field is composed by 3 circular harmonics. The harmonics depends on the azimuth θ and the signal S:, f 57;
#X text 365 201 With l the degree \, m the (azimuthal) order \, θ the azimuth and S the signal to encode., f 54;
#X text 480 411 Azimuth θ in radian;
#X text 189 333 Azimuth θ in radian;
#X text 1058 90 Y[l \, m] = k(l \, m) * P'[l \, |m|](cos(φ)) * e^i|m|θ * S, f 55;
#X text 1058 274 The normalization k is defined by, f 59;
#X text 1058 164 The associated Legendre polynomial is defined by, f 59;
#X text 1058 181 P'[0 \, 0](x) = 1, f 59;
#X text 1060 321 Note that the complex exponential e^i is similar to the 2d encoding operation.;
#X text 365 106 and the the complex exponential e^i can be simplified by, f 54;
#X text 375 151 Y[l \, m](θ) = sin(|m|*θ);
#X text 365 86 Y[l \, m](θ) = e^i|m|θ * S;
#X text 375 181 Y[l \, m](θ) = cos(|m|*θ);
#X obj 1093 403 sig~ 1;
#X text 1325 439 Look inside;
#X text 1082 376 Azimuth θ in radian;
#X text 1180 396 Elevation φ in radian;
#X obj 750 468 hoa.3d.scope~ @size 225 225 @fontname "Helvetica" @fontweight "normal" @fontslant "roman" @fontsize 11 @receive "(null)" @send "(null)" @order 1 @view 0 0 0 @gain 1 @interval 100 @bgcolor 0.76 0.76 0.76 1 @bdcolor 0.7 0.7 0.7 1 @phcolor 1 0 0 1 @nhcolor 0 0 1 1;
#X obj 917 360 cos;
#X obj 750 389 sig~ 1;
#X obj 843 360 sin;
#N canvas 65 92 450 300 P' 0;
#X obj 6 6 inlet;
#X obj 6 198 outlet;
#X obj 6 177 * -1;
#X obj 6 137 -, f 5;
#X obj 6 96 t b f;
#X obj 6 76 *, f 5;
#X obj 6 56 t f f;
#X obj 6 157 sqrt;
#X obj 6 116 f 1;
#X obj 6 28 cos;
#X connect 0 0 9 0;
#X connect 2 0 1 0;
#X connect 3 0 7 0;
#X connect 4 0 8 0;
#X connect 4 1 3 1;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X connect 6 1 5 1;
#X connect 7 0 2 0;
#X connect 8 0 3 0;
#X connect 9 0 6 0;
#X restore 870 360 pd P';
#X obj 750 426 *~ 1;
#N canvas 65 92 450 300 P' 0;
#X obj 6 6 inlet;
#X obj 6 198 outlet;
#X obj 6 177 * -1;
#X obj 6 137 -, f 5;
#X obj 6 96 t b f;
#X obj 6 76 *, f 5;
#X obj 6 56 t f f;
#X obj 6 157 sqrt;
#X obj 6 116 f 1;
#X obj 6 28 cos;
#X connect 0 0 9 0;
#X connect 2 0 1 0;
#X connect 3 0 7 0;
#X connect 4 0 8 0;
#X connect 4 1 3 1;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X connect 6 1 5 1;
#X connect 7 0 2 0;
#X connect 8 0 3 0;
#X connect 9 0 6 0;
#X restore 1023 360 pd P';
#N canvas 526 308 468 374 wrap_angles 0;
#X obj 82 39 inlet;
#X obj 195 49 inlet;
#X obj 195 71 /, f 7;
#X obj 234 47 hoa.pi 2;
#X obj 234 26 loadbang;
#X obj 195 137 *, f 7;
#X obj 195 93 + 0.25;
#X obj 195 116 wrap;
#X obj 105 203 >;
#X obj 104 274 t b f;
#X obj 81 300 +, f 4;
#X obj 120 128 hoa.pi 1;
#X obj 105 228 sel 1;
#X obj 105 250 hoa.pi 1;
#X obj 81 322 outlet;
#X obj 222 320 outlet, f 30;
#X obj 195 157 t f f;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 3 0 5 1;
#X connect 4 0 3 0;
#X connect 4 0 11 0;
#X connect 5 0 16 0;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
#X connect 8 0 12 0;
#X connect 9 0 10 0;
#X connect 9 1 10 1;
#X connect 10 0 14 0;
#X connect 11 0 8 1;
#X connect 12 0 13 0;
#X connect 12 1 9 0;
#X connect 13 0 9 0;
#X connect 16 0 8 0;
#X connect 16 1 15 0;
#X restore 843 332 pd wrap_angles;
#X obj 996 360 cos;
#X text 907 285 Elevation φ in radian;
#X text 777 285 Azimuth θ in radian;
#X text 757 450 Harmo 0 0;
#X text 827 450 Harmo 1 -1;
#X text 900 450 Harmo 1 0;
#X text 977 450 Harmo 1 1;
#X text 716 197 The harmonic 0 0 : S;
#X text 716 240 The harmonic 1 0 : cos(φ) * S;
#X text 1058 201 P'[l \, l](x) = −(2l+1)√(1−x^2)P[l \, l](x), f 59;
#X text 1058 221 P'[l \, l-1](x) = x(2l+1)P[l \, l](x), f 59;
#X text 1058 241 P'[l \, m](x) = (x(2l+1)P[l-1 \, |m|](x)−(l+|m|)P[l−2 \, |m|](x)) / (l−|m|+1);
#X text 3 241 The harmonic 0 0 : S;
#X text 3 256 The harmonic 1 -1 : sin(θ) * S, f 56;
#X text 3 272 The harmonic 1 1 : cos(θ) * S, f 56;
#X text 365 56 In 2d \, for high orders of decomposition \, the harmonics Y are defined by, f 54;
#X text 1055 56 In 3d \, for high orders of decomposition \, the harmonics Y are defined by;
#X obj 896 426 *~ 0;
#X obj 843 380 * 1, f 5;
#X obj 996 380 * 1, f 5;
#X obj 822 426 *~ 0;
#X obj 969 426 *~ -1;
#X text 1058 291 k(l \, m) = sqrt((l - |m|)! / (l + |m|)!) * sqrt((2-σ)/ 4π);
#X text 716 212 The harmonic 1 -1 : sin(θ) * -√(1−cos(φ)^2) * -√(1/4π) * S, f 53;
#X text 716 256 The harmonic 1 1 : cos(θ) * -√(1−cos(φ)^2) * -√(1/4π) * S;
#N canvas 65 82 450 300 norm 0;
#X obj 105 155 hoa.pi;
#X obj 105 176 t b f;
#X obj 105 220 /;
#X obj 105 242 sqrt;
#X obj 105 264 outlet;
#X obj 105 131 c.loadmess 4;
#X obj 105 198 f 1;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 1 1 2 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 0 0;
#X connect 6 0 2 0;
#X restore 882 380 pd norm;
#X obj 843 402 * 1, f 7;
#N canvas 0 50 450 300 norm 0;
#X obj 105 155 hoa.pi;
#X obj 105 176 t b f;
#X obj 105 220 /;
#X obj 105 242 sqrt;
#X obj 105 264 outlet;
#X obj 105 131 c.loadmess 4;
#X obj 105 198 f 1;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 1 1 2 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 0 0;
#X connect 6 0 2 0;
#X restore 1035 380 pd norm;
#X obj 996 402 * 1, f 7;
#X obj 1093 469 hoa.3d.scope~ @size 225 225 @fontname "Helvetica" @fontweight "normal" @fontslant "roman" @fontsize 11 @receive "(null)" @send "(null)" @order 7 @view 0 0 0 @gain 1 @interval 100 @bgcolor 0.76 0.76 0.76 1 @bdcolor 0.7 0.7 0.7 1 @phcolor 1 0 0 1 @nhcolor 0 0 1 1;
#X obj 383 434 hoa.2d.process~ 7 hoa.syn.2d.encoder~ harmonics, f 37;
#X obj 1093 433 hoa.3d.process~ 7 hoa.syn.3d.encoder~ harmonics, f 37;
#X obj 373 29 s init;
#X text 1059 308 with σ = 1 if m = 0 else σ = 0;
#X text 2 55 With Ambisonics \, the encoding operation gives the spatial informations for a sound. Thus \, the sound can be listened as coming from a point of the space., f 57;
#X text 2 135 Encoding a source in the circular harmonics domain consists in synthesizing the circular harmonics Y depending on an azimuth θ and an order of decomposition N.;
#X text 717 57 Encoding a source in the spherical harmonics domain consists in synthesizing the spherical harmonics Y depending on the azimuth θ and the elevation φ and an order of decomposition N :, f 52;
#X text 716 127 For an order of decomposition 1 \, the sound field is composed by 4 spherical harmonics. The harmonic depends on the azimuth θ \, the elevation φ and the signal S:, f 53;
#X text 1058 111 k is the normalization \, P' is the associated Legendre polynomial \, e^i is the complex exponential \, S the signal \, l the degree \, m the order \, θ azimuth and φ elevation.;
#X obj 373 10 msg.onload 0;
#X obj 251 355 ui.number @size 53 17 @receive "(null)" @send "(null)" @nosave 0 @pinned 0 @presetname "ui.number.0" @background_color 0.93 0.93 0.93 1 @border_color 0.6 0.6 0.6 1 @label_color 0 0 0 1 @active_color 0 0.75 1 1 @text_color 0 0 0 1 @fontname "Helvetica" @fontweight "normal" @fontslant "roman" @fontsize 11 @label "(null)" @label_inner 0 @label_side "top" @label_align "left" @label_valign "top" @label_margins 0 0 @min -3.40282e+38 @max 3.40282e+38 @digits -1;
#X obj 592 273 ui.dsp~ @size 30 30 @receive "(null)" @send "(null)" @nosave 0 @pinned 0 @background_color 0.93 0.93 0.93 1 @border_color 0.6 0.6 0.6 1 @label_color 0 0 0 1 @active_color 0 0.75 1 1 @fontname "Helvetica" @fontweight "normal" @fontslant "roman" @fontsize 11 @label "(null)" @label_inner 0 @label_side "top" @label_align "left" @label_valign "top" @label_margins 0 0;
#X obj 814 305 ui.number @size 53 17 @receive "init" @send "(null)" @nosave 0 @pinned 0 @presetname "ui.number.1" @background_color 0.93 0.93 0.93 1 @border_color 0.6 0.6 0.6 1 @label_color 0 0 0 1 @active_color 0 0.75 1 1 @text_color 0 0 0 1 @fontname "Helvetica" @fontweight "normal" @fontslant "roman" @fontsize 11 @label "(null)" @label_inner 0 @label_side "top" @label_align "left" @label_valign "top" @label_margins 0 0 @min -3.40282e+38 @max 3.40282e+38 @digits -1;
#X obj 943 305 ui.number @size 53 17 @receive "init" @send "(null)" @nosave 0 @pinned 0 @presetname "ui.number.2" @background_color 0.93 0.93 0.93 1 @border_color 0.6 0.6 0.6 1 @label_color 0 0 0 1 @active_color 0 0.75 1 1 @text_color 0 0 0 1 @fontname "Helvetica" @fontweight "normal" @fontslant "roman" @fontsize 11 @label "(null)" @label_inner 0 @label_side "top" @label_align "left" @label_valign "top" @label_margins 0 0 @min -3.40282e+38 @max 3.40282e+38 @digits -1;
#X obj 602 410 ui.number @size 53 17 @receive "init" @send "(null)" @nosave 0 @pinned 0 @presetname "ui.number.3" @background_color 0.93 0.93 0.93 1 @border_color 0.6 0.6 0.6 1 @label_color 0 0 0 1 @active_color 0 0.75 1 1 @text_color 0 0 0 1 @fontname "Helvetica" @fontweight "normal" @fontslant "roman" @fontsize 11 @label "(null)" @label_inner 0 @label_side "top" @label_align "left" @label_valign "top" @label_margins 0 0 @min -3.40282e+38 @max 3.40282e+38 @digits -1;
#X obj 1202 377 ui.number @size 53 17 @receive "init" @send "(null)" @nosave 0 @pinned 0 @presetname "ui.number.4" @background_color 0.93 0.93 0.93 1 @border_color 0.6 0.6 0.6 1 @label_color 0 0 0 1 @active_color 0 0.75 1 1 @text_color 0 0 0 1 @fontname "Helvetica" @fontweight "normal" @fontslant "roman" @fontsize 11 @label "(null)" @label_inner 0 @label_side "top" @label_align "left" @label_valign "top" @label_margins 0 0 @min -3.40282e+38 @max 3.40282e+38 @digits -1;
#X obj 1312 397 ui.number @size 53 17 @receive "init" @send "(null)" @nosave 0 @pinned 0 @presetname "ui.number.5" @background_color 0.93 0.93 0.93 1 @border_color 0.6 0.6 0.6 1 @label_color 0 0 0 1 @active_color 0 0.75 1 1 @text_color 0 0 0 1 @fontname "Helvetica" @fontweight "normal" @fontslant "roman" @fontsize 11 @label "(null)" @label_inner 0 @label_side "top" @label_align "left" @label_valign "top" @label_margins 0 0 @min -3.40282e+38 @max 3.40282e+38 @digits -1;
#N canvas 179 204 700 500 init 0;
#X obj 213 142 canvas.top;
#X obj 213 120 msg.onload @name?;
#X obj 213 164 prop-> @name;
#X obj 247 190 outlet;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 1 3 0;
#X restore 10 7 pd init;
#X f 5;
#X connect 3 0 7 0;
#X connect 3 0 9 0;
#X connect 3 0 8 0;
#X connect 5 0 74 0;
#X connect 7 0 2 0;
#X connect 8 0 2 2;
#X connect 9 0 2 1;
#X connect 10 0 9 1;
#X connect 11 0 8 1;
#X connect 32 0 75 0;
#X connect 37 0 61 1;
#X connect 38 0 41 0;
#X connect 38 0 61 0;
#X connect 38 0 64 0;
#X connect 38 0 65 0;
#X connect 39 0 62 0;
#X connect 40 0 62 1;
#X connect 41 0 36 0;
#X connect 42 0 63 1;
#X connect 43 0 39 0;
#X connect 43 0 44 0;
#X connect 43 1 37 0;
#X connect 43 1 40 0;
#X connect 43 1 42 0;
#X connect 44 0 63 0;
#X connect 61 0 36 2;
#X connect 62 0 70 0;
#X connect 63 0 72 0;
#X connect 64 0 36 1;
#X connect 65 0 36 3;
#X connect 69 0 70 1;
#X connect 70 0 64 1;
#X connect 71 0 72 1;
#X connect 72 0 65 1;
#X connect 74 0 4 0;
#X connect 74 1 4 1;
#X connect 74 2 4 2;
#X connect 74 3 4 3;
#X connect 74 4 4 4;
#X connect 74 5 4 5;
#X connect 74 6 4 6;
#X connect 74 7 4 7;
#X connect 74 8 4 8;
#X connect 74 9 4 9;
#X connect 74 10 4 10;
#X connect 74 11 4 11;
#X connect 74 12 4 12;
#X connect 74 13 4 13;
#X connect 74 14 4 14;
#X connect 75 0 73 0;
#X connect 75 1 73 1;
#X connect 75 2 73 2;
#X connect 75 3 73 3;
#X connect 75 4 73 4;
#X connect 75 5 73 5;
#X connect 75 6 73 6;
#X connect 75 7 73 7;
#X connect 75 8 73 8;
#X connect 75 9 73 9;
#X connect 75 10 73 10;
#X connect 75 11 73 11;
#X connect 75 12 73 12;
#X connect 75 13 73 13;
#X connect 75 14 73 14;
#X connect 75 15 73 15;
#X connect 75 16 73 16;
#X connect 75 17 73 17;
#X connect 75 18 73 18;
#X connect 75 19 73 19;
#X connect 75 20 73 20;
#X connect 75 21 73 21;
#X connect 75 22 73 22;
#X connect 75 23 73 23;
#X connect 75 24 73 24;
#X connect 75 25 73 25;
#X connect 75 26 73 26;
#X connect 75 27 73 27;
#X connect 75 28 73 28;
#X connect 75 29 73 29;
#X connect 75 30 73 30;
#X connect 75 31 73 31;
#X connect 75 32 73 32;
#X connect 75 33 73 33;
#X connect 75 34 73 34;
#X connect 75 35 73 35;
#X connect 75 36 73 36;
#X connect 75 37 73 37;
#X connect 75 38 73 38;
#X connect 75 39 73 39;
#X connect 75 40 73 40;
#X connect 75 41 73 41;
#X connect 75 42 73 42;
#X connect 75 43 73 43;
#X connect 75 44 73 44;
#X connect 75 45 73 45;
#X connect 75 46 73 46;
#X connect 75 47 73 47;
#X connect 75 48 73 48;
#X connect 75 49 73 49;
#X connect 75 50 73 50;
#X connect 75 51 73 51;
#X connect 75 52 73 52;
#X connect 75 53 73 53;
#X connect 75 54 73 54;
#X connect 75 55 73 55;
#X connect 75 56 73 56;
#X connect 75 57 73 57;
#X connect 75 58 73 58;
#X connect 75 59 73 59;
#X connect 75 60 73 60;
#X connect 75 61 73 61;
#X connect 75 62 73 62;
#X connect 75 63 73 63;
#X connect 83 0 76 0;
#X connect 84 0 10 0;
#X connect 84 0 11 0;
#X connect 86 0 43 0;
#X connect 87 0 43 1;
#X connect 88 0 74 1;
#X connect 89 0 75 1;
#X connect 90 0 75 2;
#X connect 91 0 0 0;
