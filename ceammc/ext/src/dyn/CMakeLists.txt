macro(ceammc_dyn_obj_ext name)
    list(APPEND DYN_SOURCES "dyn_${name}.cpp")
    ceammc_faust_gen_obj(dyn ${name})
endmacro()

macro(ceammc_dyn_ui_ext name)
    list(APPEND DYN_SOURCES "dyn_${name}.cpp")
    ceammc_faust_gen_obj(dyn ${name} JSON)
endmacro()

ceammc_dyn_ui_ext(comp)
ceammc_dyn_ui_ext(comp_peak_ff)
ceammc_dyn_ui_ext(comp2)
ceammc_dyn_ui_ext(gate)
ceammc_dyn_ui_ext(gate2)
ceammc_dyn_obj_ext(limit)
ceammc_dyn_obj_ext(limit2)
ceammc_dyn_obj_ext(softclip)

add_library(ceammc_dyn STATIC mod_dyn.cpp ${DYN_SOURCES})
target_compile_definitions(ceammc_dyn PRIVATE "FAUST_MACRO")
