set(FX_SOURCES fx_looper.cpp fx_infrev.cpp)

macro(ceammc_fx_obj name)
    list(APPEND FX_SOURCES "fx_${name}.cpp")
    ceammc_faust_gen_obj(fx ${name})
endmacro()

macro(ceammc_fx_obj_ui name)
    list(APPEND FX_SOURCES "fx_${name}.cpp")
    ceammc_faust_gen_obj(fx ${name} JSON)
endmacro()

ceammc_fx_obj(freqshift)

ceammc_fx_obj_ui(bitdown)
ceammc_fx_obj_ui(chorus)
ceammc_fx_obj_ui(dattorro)
ceammc_fx_obj_ui(distortion)
ceammc_fx_obj_ui(distortion1)
ceammc_fx_obj_ui(distortion2)
ceammc_fx_obj_ui(distortion3)
ceammc_fx_obj_ui(drive)
ceammc_fx_obj_ui(drone_box)
ceammc_fx_obj_ui(echo)
ceammc_fx_obj_ui(echo2)
ceammc_fx_obj_ui(jcrev)
ceammc_fx_obj_ui(flanger)
ceammc_fx_obj_ui(freeverb)
ceammc_fx_obj_ui(freeverb2)
ceammc_fx_obj_ui(granulator)
ceammc_fx_obj_ui(greyhole)
ceammc_fx_obj_ui(pitchshift)
ceammc_fx_obj_ui(pitchshift_sig)
ceammc_fx_obj_ui(recho)
ceammc_fx_obj_ui(room)
ceammc_fx_obj_ui(satrev)
ceammc_fx_obj_ui(sdelay)
ceammc_fx_obj_ui(secho)
ceammc_fx_obj_ui(shimmer)
ceammc_fx_obj_ui(stutter)
ceammc_fx_obj_ui(tapiir)
ceammc_fx_obj_ui(vocoder)
ceammc_fx_obj_ui(wahwah)
ceammc_fx_obj_ui(zita_rev1)

add_library(ceammc_fx STATIC mod_fx.cpp ${FX_SOURCES})
target_link_libraries(ceammc_fx PRIVATE airw_infinity)
target_include_directories(ceammc_fx
    PRIVATE "$<TARGET_PROPERTY:airw_infinity,INCLUDE_DIRECTORIES>")

set_target_properties(ceammc_fx PROPERTIES COMPILE_DEFINITIONS "FAUST_MACRO")
