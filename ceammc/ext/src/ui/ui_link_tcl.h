/* This is autogenerated source file. Do not edit! */
#ifndef uilink_tcl_init_h
#define uilink_tcl_init_h
#include "m_pd.h"

void uilink_tcl_init() {
    sys_gui(
    "proc ceammclink_open {filename dir} {\n"
    "    if {[string first \"://\" $filename] > -1} {\n"
    "        menu_openfile $filename\n"
    "    } elseif {[file pathtype $filename] eq \"absolute\"} {\n"
    "        if {[file extension $filename] eq \".pd\"} {\n"
    "            set dir [file dirname $filename]\n"
    "            set name [file tail $filename]\n"
    "            menu_doc_open $dir $name            \n"
    "        } else {\n"
    "            menu_openfile $filename\n"
    "        }\n"
    "    } elseif {[file exists [file join $dir $filename]]} {\n"
    "        set fullpath [file normalize [file join $dir $filename]]\n"
    "        set dir [file dirname $fullpath]\n"
    "        set filename [file tail $fullpath]\n"
    "        menu_doc_open $dir $filename\n"
    "   } elseif {[file exists [file join $::sys_libdir doc 5.reference $filename]]} {\n"
    "        # search in core doc dir\n"
    "        set fullpath [file normalize [file join $::sys_libdir doc 5.reference $filename]]\n"
    "        set dir [file dirname $fullpath]\n"
    "        set filename [file tail $fullpath]\n"
    "        menu_doc_open $dir $filename\n"
    "    } elseif {[file exists [file join $::sys_libdir extra $filename]]} {\n"
    "        # search in external doc dir\n"
    "        set fullpath [file normalize [file join $::sys_libdir extra $filename]]\n"
    "        set dir [file dirname $fullpath]\n"
    "        set filename [file tail $fullpath]\n"
    "        menu_doc_open $dir $filename\n"
    "    } else {\n"
    "        bell ; # beep on error to provide instant feedback\n"
    "        pdtk_post \"ERROR: file not found: $filename at $dir\"\n"
    "        pdtk_post \"\"\n"
    "    }\n"
    "}\n"
    );
}
#endif
