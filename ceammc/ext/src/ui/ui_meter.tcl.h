// this is autogenerated file: do not edit
// clang-format off
#ifndef ui_meter_tcl_h_
#define ui_meter_tcl_h_
constexpr const char* ui_meter_tcl = 
"namespace eval ui {\n"
"proc meter_db2color { db cold tepid warm hot over } {\n"
"    if {$db < -30} { return $cold  }\n"
"    if {$db < -21} { return $tepid }\n"
"    if {$db < -12} { return $warm  }\n"
"    if {$db < -3}  { return $hot   } { return $over }\n"
"}\n"
"proc meter_create_hrms { id cnv w h rms cold tepid warm hot over } {\n"
"    # optimization for for silence\n"
"    if {$rms < -49} { return }\n"
"    set t [::ceammc::ui::widget_tag $id]\n"
"    set led_wstep [expr ($w+1) / 13.0]\n"
"    set led_dbstep 3\n"
"    set led_pad 3\n"
"    for {set i 0} {$i < 13} {incr i} {\n"
"        # left to right -49..0\n"
"        set led_db [expr -$led_dbstep * (13 - $i)]\n"
"        if {$rms > $led_db} {\n"
"            set delta [expr $rms - $led_db]\n"
"            # last led\n"
"            set last [expr $delta < $led_dbstep]\n"
"            set c [meter_db2color $led_db $cold $tepid $warm $hot $over]\n"
"            set led_ratio [expr $last ? ($delta / $led_dbstep) : 1]\n"
"            # horizontal\n"
"            set x0 [expr {round($i*$led_wstep)} + 1]\n"
"            set x1 [expr {round(($i+$led_ratio)*$led_wstep)}]\n"
"            set y0 $led_pad\n"
"            set y1 [expr $h-$led_pad]\n"
"            $cnv create rectangle $x0 $y0 $x1 $y1 -fill $c -outline $c -width 1 -tags $t\n"
"        }\n"
"    }\n"
"}\n"
"proc meter_create_vrms { id cnv w h rms cold tepid warm hot over } {\n"
"    # optimization for for silence\n"
"    if {$rms < -49} { return }\n"
"    set t [::ceammc::ui::widget_tag $id]\n"
"    set led_hstep [expr ($h+1) / 13.0]\n"
"    set led_dbstep 3\n"
"    set led_pad 3\n"
"    for {set i 0} {$i < 13} {incr i} {\n"
"        # left to right -49..0\n"
"        set led_db [expr -$led_dbstep * (13 - $i)]\n"
"        if {$rms > $led_db} {\n"
"            set delta [expr $rms - $led_db]\n"
"            # last led\n"
"            set last [expr $delta < $led_dbstep]\n"
"            set c [meter_db2color $led_db $cold $tepid $warm $hot $over]\n"
"            set led_ratio [expr $last ? ($delta / $led_dbstep) : 1]\n"
"            # vertical\n"
"            set x0 $led_pad\n"
"            set x1 [expr $w-$led_pad]\n"
"            set y0 [expr $h - {round($i*$led_hstep)} + 1]\n"
"            set y1 [expr $h - {round(($i+$led_ratio)*$led_hstep)}]\n"
"            $cnv create rectangle $x0 $y0 $x1 $y1 -fill $c -outline $c -width 1 -tags $t\n"
"        }\n"
"    }\n"
"}\n"
"proc meter_create_hpeak { id cnv w h peak cold tepid warm hot over } {\n"
"    # optimization for for silence\n"
"    if {$peak < -49} { return }\n"
"    set t [::ceammc::ui::widget_tag $id]\n"
"    set c [meter_db2color $peak $cold $tepid $warm $hot $over]\n"
"    set x0 [expr (($peak+49)/49) * $w]\n"
"    set y0 -1\n"
"    set y1 [expr $h + 1]\n"
"    if { $x0 > $w } { set x0 $w }\n"
"    set x1 $x0\n"
"    $cnv create line $x0 $y0 $x1 $y1 -fill $c -width 2 -tags $t\n"
"}\n"
"proc meter_create_vpeak { id cnv w h peak cold tepid warm hot over } {\n"
"    # optimization for for silence\n"
"    if {$peak < -49} { return }\n"
"    set t [::ceammc::ui::widget_tag $id]\n"
"    set c [meter_db2color $peak $cold $tepid $warm $hot $over]\n"
"    set x0 -1\n"
"    set x1 [expr $w + 1]\n"
"    set y0 [expr $h * (1 - (($peak+49)/49))  ]\n"
"    if { $y0 < 0 } { set y0 0 }\n"
"    set y1 $y0\n"
"    $cnv create line $x0 $y0 $x1 $y1 -fill $c -width 2 -tags $t\n"
"}\n"
"proc meter_create_hoverload { id cnv w h over } {\n"
"    set t [::ceammc::ui::widget_tag $id]\n"
"    set led_pad 3\n"
"    set step [expr ($w+1) / 13.0]\n"
"    set x0 [expr round(12 * $step) + 1]\n"
"    set x1 [expr round(13 * $step)]\n"
"    set y0 $led_pad\n"
"    set y1 [expr ($h-$led_pad)+2]\n"
"    $cnv create rectangle $x0 $y0 $x1 $y1 -fill $over -width 0 -tags $t\n"
"}\n"
"proc meter_create_voverload { id cnv w h over } {\n"
"    set t [::ceammc::ui::widget_tag $id]\n"
"    set led_pad 3\n"
"    set step [expr ($h+1) / 13.0]\n"
"    set x0 $led_pad\n"
"    set x1 [expr ($w-$led_pad)+2]\n"
"    set y0 1\n"
"    set y1 $step\n"
"    $cnv create rectangle $x0 $y0 $x1 $y1 -fill $over -width 0 -tags $t\n"
"}\n"
"proc meter_create_hlines { id cnv w h bdcolor } {\n"
"    set t [::ceammc::ui::widget_tag $id]\n"
"    set step [expr ($w+1) / 13.0]\n"
"    set lh [expr $h + 1]\n"
"    for {set i 1} {$i < 13} {incr i} {\n"
"        set x [expr {round($i*$step)}]\n"
"        $cnv create line $x -1 $x $lh -fill $bdcolor -tags $t\n"
"    }\n"
"}\n"
"proc meter_create_vlines { id cnv w h bdcolor } {\n"
"    set t [::ceammc::ui::widget_tag $id]\n"
"    set step [expr ($h+1) / 13.0]\n"
"    set lw [expr $w + 1]\n"
"    for {set i 1} {$i < 13} {incr i} {\n"
"        set y [expr {round($i*$step)}]\n"
"        $cnv create line -1 $y $lw $y -fill $bdcolor -tags $t\n"
"    }\n"
"}\n"
"proc meter_delete {id cnv} {\n"
"    set t [::ceammc::ui::widget_tag $id]\n"
"    $cnv delete $t\n"
"}\n"
"proc meter_create {id cnv w h bdcolor cold tepid warm hot over rms peak overload} {\n"
"    if {$w > $h} {\n"
"        meter_create_hlines $id $cnv $w $h $bdcolor\n"
"        meter_create_hrms $id $cnv $w $h $rms $cold $tepid $warm $hot $over\n"
"        meter_create_hpeak $id $cnv $w $h $peak $cold $tepid $warm $hot $over\n"
"        if { $overload } { meter_create_hoverload $id $cnv $w $h $over }\n"
"    } else {\n"
"        meter_create_vlines $id $cnv $w $h $bdcolor\n"
"        meter_create_vrms $id $cnv $w $h $rms $cold $tepid $warm $hot $over\n"
"        meter_create_vpeak $id $cnv $w $h $peak $cold $tepid $warm $hot $over\n"
"        if { $overload } { meter_create_voverload $id $cnv $w $h $over }\n"
"    }\n"
"}\n"
"}\n"
;
#endif
// clang-format on
