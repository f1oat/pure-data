// this is autogenerated file, do not edit manually!
#include "m_pd.h"
#ifndef __ui_knob_tcl_h
#define __ui_knob_tcl_h
namespace {
void ui_knob_tcl_output() {
	sys_vgui("%s", "namespace eval ::ui {\nnamespace eval knob {\nnamespace eval font {\nvariable size 7\nvariable family \"Helvetica\"\nswitch -- $::windowingsystem {\n\"aqua\" { }\n\"x11\" { }\n\"win32\" {\nset size 6\n}\n}\n}\nproc label_font {zoom} {\nreturn \"$font::family [expr $font::size*$zoom] normal roman\"\n}\nproc update {cnv id w h zoom vmin vmax value show_range show_value active_scale border_color scale_color knob_color txt_color} {\nset c [::ceammc::ui::widget_canvas $cnv $id]\nset t [::ceammc::ui::widget_tag $id]\n$c delete $t\nset wd [expr round($h / 20) + 1]\nswitch -- $::windowingsystem {\n\"win32\" { set wd [expr $wd*0.5] }\n}\nif {$show_range && $w < 30} { set show_range 0 }\nif {$show_range} {\nset x0 [expr 2*$zoom]\nset y0 [expr $h - 1]\n$c create text $x0 $y0 -text [format \"%g\" $vmin] -anchor sw -justify left \\\n-font [label_font $zoom] -fill $txt_color -width 0 -tags $t\n$c create text [expr $w-$x0] $y0 -text [format \"%g\" $vmax] -anchor se -justify right \\\n-font [label_font $zoom] -fill $txt_color -width 0 -tags $t\nset yo");
	sys_vgui("%s", "ff 0\n} else {\nif { $h < 30 } {\nset yoff [expr round($wd*0.5)]\n} else {\nset yoff [expr round($wd/3.0)]\n}\n}\nset k 0.1\nset x0 [expr round($k*$w)+$zoom]\nset y0 [expr round($k*$h)+$zoom + $yoff]\nset x1 [expr round($w-($k*$w))]\nset y1 [expr round($h-($k*$h)) + $yoff]\nset phase_norm [expr ($vmax-$value)/($vmax-$vmin)]\nif {$active_scale} {\nset a -45\nset b [expr 270 * $phase_norm]\n$c create arc $x0 $y0 $x1 $y1 -start $a -extent $b -width $wd \\\n-outline $scale_color -style arc -tags $t\nset a [expr $a+$b]\nset b [expr 270 * (1-$phase_norm)]\n$c create arc $x0 $y0 $x1 $y1 -start $a -extent $b -width $wd \\\n-outline $knob_color -style arc -tags $t\n} else {\n$c create arc $x0 $y0 $x1 $y1 -start -45 -extent 270 -width $wd \\\n-outline $scale_color -style arc -tags $t\n}\nset phase_rad [expr ($phase_norm*1.5+0.25) * 3.1415926]\nset x0 [expr ($x1-$x0)*0.5+$x0]\nset y0 [expr ($y1-$y0)*0.5+$y0]\nset r [expr round(0.5*($w*(1-$k) - ($wd*2)))]\nset x1 [expr sin($phase_rad)*$r+$x0]\nset y1 [expr cos($phase_rad)*$r+$y0]\n$c ");
	sys_vgui("%s", "create line $x0 $y0 $x1 $y1 -width $wd -fill $knob_color \\\n-capstyle round -tags $t\nif {$show_value} {\nset y0 [expr round(0.707*$r + $y0 + (0.5*$wd))]\n$c create text $x0 $y0 -text [format \"%g\" $value] -anchor s -justify center \\\n-font [label_font $zoom] -fill $txt_color -width 0 -tags $t\n}\n}\n}\n}\n");
}
}
#endif // __ui_knob_tcl_h
