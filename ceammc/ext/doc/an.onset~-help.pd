#N canvas 0 0 785 555 12;
#X declare -lib ceammc;
#X obj 652 50 cnv 1 113 23 empty empty empty 17 7 0 10 -245760 -1 0;
#X text 652 50 onset detector;
#X obj 1 1 cnv 5 765 40 empty empty an.onset~ 20 20 0 20 -104026 -4096
0;
#X obj 674 11 an.onset~;
#X obj 210 80 cnv 1 555 58 empty empty empty 17 7 0 10 -257983 -1 0;
#X text 215 80 Onset detector based on aubio library;
#X obj 215 105 ui.link @background_color 0.98039 0.98039 0.98039
@title https://aubio.org @url https://aubio.org/;
#X obj 50 166 adc~ 1;
#X obj 88 210 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1;
#X obj 146 210 ui.menu hfc energy complex phase wphase specdiff
specflux kl mkl;
#X obj 50 238 gain~;
#X msg 146 238 @method \$1 \, dump;
#X msg 174 267 reset;
#X obj 50 310 an.onset~ 2048;
#X obj 328 310 ui.dsp~;
#X obj 50 339 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 136 339 10 0 0 0 - - -;
#X obj 20 388 cnv 1 745 1 empty empty empty 17 7 0 10 -203890 -1 0;
#X obj 20 393 cnv 5 90 26 empty empty arguments: 4 10 0 14 -262144
-49933 0;
#X text 110 428 1\.;
#X text 150 428 int;
#X obj 246 429 cnv 1 69 20 empty empty empty 17 7 0 10 -245695 -1 0;
#X text 245 428 BS(samp): buffer size. Type: int. Min value: 64;
#X text 110 448 2\.;
#X text 150 448 symbol;
#X obj 246 449 cnv 1 55 20 empty empty empty 17 7 0 10 -245695 -1 0;
#X text 245 448 METHOD: detection method. Allowed values: centroid
\, complex \, complexdomain \, decrease \, default \, energy \, hfc
\, kl \, kurtosis \, phase \, rolloff \, skewness \, slope \, specdiff
\, specflux \, spread \, wphase. . Type: symbol.;
#X text 110 513 3\.;
#X text 150 513 int;
#X obj 246 514 cnv 1 70 20 empty empty empty 17 7 0 10 -245695 -1 0;
#X text 245 513 HS(samp): hop size (by default buffer_size/2). Type:
int. Min value: 0;
#X obj 20 558 cnv 1 745 1 empty empty empty 17 7 0 10 -203890 -1 0;
#X obj 20 563 cnv 5 98 26 empty empty properties: 4 10 0 14 -262144
-49933 0;
#X msg 110 598 @bs;
#X text 245 598 (initonly) Get/Set buffer size. Type: int. Units: 'samp'.
Default value: 1024\. Min value: 64\.;
#X msg 110 640 @active;
#X text 245 640 Get/Set audio processing state. Type: bool. Default
value: 1\.;
#X msg 110 682 @awhitening;
#X text 245 682 Get/Set adaptive whitening. Type: bool. Default value:
0\.;
#X msg 110 711 @complex;
#X text 245 711 alias to @method complex. Complex Domain Method onset
detection function.;
#X msg 110 753 @compression;
#X text 245 753 Get/Set lambda logarithmic compression factor \, 0
to disable. Type: float. Default value: 1\. Min value: 0\.;
#X msg 110 795 @delay;
#X text 245 795 Get/Set constant system delay to take back from detection
time. Type: float. Units: 'ms'. Default value: 49.9093\. Min value:
0\.;
#X msg 110 852 @energy;
#X text 245 852 alias to @method energy. Energy based onset detection
function.;
#X msg 110 894 @hfc;
#X text 245 894 alias to @method hfc. High Frequency Content onset
detection.;
#X msg 110 923 @hs;
#X text 245 923 Get/Set hop size. 0 means @bs/2\. Type: int. Units:
'samp'. Default value: 0\. Min value: 0\.;
#X msg 110 965 @kl;
#X text 245 965 alias to @method kl. Kullback-Liebler onset detection
function.;
#X msg 110 1007 @method;
#X text 245 1007 Get/Set onset method. Default is hfc. Type: symbol.
Default value: default. Allowed values: specflux \, phase \, energy
\, hfc \, kl \, complex \, default \, specdiff \, wphase \, rolloff
\, spread \, kurtosis \, skewness \, complexdomain \, decrease \, slope
\, centroid.;
#X msg 110 1079 @mkl;
#X text 245 1079 alias to @method mkl. Modified Kullback-Liebler onset
detection function.;
#X msg 110 1121 @phase;
#X text 245 1121 alias to @method phase. Phase Based Method onset detection
function.;
#X msg 110 1163 @silence;
#X text 245 1163 Get/Set onset detection silence threshold. Type: float.
Units: 'db'. Default value: -70\. Range: -80\...0\.;
#X msg 110 1205 @specdiff;
#X text 245 1205 alias to @method specdiff. Spectral difference method
onset detection function.;
#X msg 110 1247 @specflux;
#X text 245 1247 alias to @method specflux. Spectral Flux.;
#X msg 110 1276 @speedlim;
#X text 245 1276 Get/Set minimum interval between two consecutive onsets.
Type: float. Units: 'ms'. Default value: 50\. Min value: 1\.;
#X msg 110 1318 @threshold;
#X text 245 1318 Get/Set peak picking threshold. Type: float. Default
value: 0.058\.;
#X msg 110 1360 @wphase;
#X text 245 1360 alias to @method phase. Weighted Phase Deviation onset
detection function.;
#X obj 20 1412 cnv 1 745 1 empty empty empty 17 7 0 10 -203890 -1 0;
#X obj 20 1417 cnv 5 73 26 empty empty methods: 4 10 0 14 -262144
-49933 0;
#X msg 110 1452 reset;
#X text 245 1452 reset onset last frame and total frames counters.;
#X obj 20 1489 cnv 1 745 1 empty empty empty 17 7 0 10 -203890 -1 0;
#X obj 20 1494 cnv 5 64 26 empty empty inlets: 4 10 0 14 -262144
-49933 0;
#X text 110 1495 1\.;
#X text 245 1495 input signal.;
#X obj 20 1525 cnv 1 745 1 empty empty empty 17 7 0 10 -203890 -1 0;
#X obj 20 1530 cnv 5 73 26 empty empty outlets: 4 10 0 14 -262144
-49933 0;
#X text 110 1531 1\.;
#X text 245 1531 bang if onset detected.;
#X text 110 1551 2\.;
#X text 245 1551 float: time of the latest onset detected in milliseconds
from starting of measuring. You can reset start time with 'reset' message.;
#X obj 10 48 ui.link @title index @url ../index-help.pd;
#X text 51 45 ::;
#X obj 67 48 ui.link @title ceammc @url ceammc-help.pd;
#X text 115 45 ::;
#X obj 131 48 ui.link @title an @url ceammc.an-help.pd;
#X obj 1 1631 cnv 5 765 48 empty empty empty 17 7 0 10 -203890 -1 0;
#X text 10 1634 library: ceammc v0.9.7;
#X text 608 1646 see also:;
#X obj 682 1646 an.onset;
#N canvas 10 1653 400 290 info 0;
#X obj 1 1 cnv 1 107 287 empty empty empty 17 7 0 10 -183085 -1 0;
#X text 10 10 library:;
#X text 120 10 ceammc;
#X text 10 32 version:;
#X text 120 32 0.9.7;
#X text 10 54 object:;
#X text 120 54 an.onset~;
#X text 10 76 category:;
#X text 120 76 an;
#X text 10 98 since:;
#X text 120 98 0.9;
#X text 10 120 authors:;
#X text 120 120 Serge Poltavsky;
#X text 10 142 license:;
#X text 120 142 GPL3 or later;
#X text 10 164 keywords:;
#X text 120 164 onset;
#X text 10 186 website:;
#X obj 120 189 ui.link @title https://github.com/uliss/pure-data @url
https://github.com/uliss/pure-data;
#X obj 120 208 declare -lib ceammc;
#X obj 120 268 cnv 1 270 1 empty empty empty 17 7 0 10 -203890 -1 0;
#X text 120 268 generated by pddoc;
#X restore 10 1653 pd info;
#X connect 7 0 10 0;
#X connect 8 0 10 1;
#X connect 9 0 11 0;
#X connect 10 0 13 0;
#X connect 11 0 13 0;
#X connect 12 0 13 0;
#X connect 13 0 15 0;
#X connect 13 1 16 0;