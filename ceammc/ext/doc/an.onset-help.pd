#N canvas 0 0 785 555 12;
#X declare -lib ceammc;
#X obj 568 50 cnv 1 197 23 empty empty empty 17 7 0 10 -245760 -1 0;
#X text 568 50 onset detector for arrays;
#X obj 1 1 cnv 5 765 40 empty empty an.onset 20 20 0 20 -104026 -4096
0;
#X obj 682 11 an.onset;
#X obj 210 80 cnv 1 555 58 empty empty empty 17 7 0 10 -257983 -1 0;
#X text 215 80 Onset detector based on aubio library;
#X obj 215 105 ui.link @background_color 0.98039 0.98039 0.98039
@title https://aubio.org @url https://aubio.org/;
#X msg 50 166 symbol %DOC%/sound/voice.wav;
#N canvas 0 22 450 300 (subpatch) 0;
#X array AONSET 100 float 1;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 1 100 -1 380 100 1;
#X restore 299 166 graph;
#X obj 184 195 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 50 224 expand_env;
#X obj 184 224 openpanel;
#X msg 50 253 load \$1 to AONSET @resize;
#X obj 50 282 snd.file;
#X obj 50 310 b;
#X msg 88 310 shuffle \, bang;
#X msg 299 310 \$1;
#X obj 50 339 an.onset AONSET;
#X obj 194 339 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1;
#X floatatom 232 339 5 0 0 0 - - -;
#X obj 299 339 array.s->p AONSET;
#X obj 50 368 data.list;
#X obj 194 368 metro 70;
#X obj 299 368 ui.hsl @size 16 380;
#X obj 50 397 list.walk @fold;
#X obj 299 397 r off;
#X floatatom 510 397 5 0 0 0 - - -;
#X obj 50 426 pack f f;
#X obj 299 426 tabplay~ AONSET;
#X obj 472 426 b;
#X msg 510 426 @release \$1;
#X obj 50 454 ms->samp;
#X obj 299 454 env.ar~ 10 500;
#X obj 50 483 s off;
#X obj 299 483 ui.hgain~;
#X obj 50 512 ui.dsp~;
#X obj 299 512 dac~;
#X obj 20 561 cnv 1 745 1 empty empty empty 17 7 0 10 -203890 -1 0;
#X obj 20 566 cnv 5 90 26 empty empty arguments: 4 10 0 14 -262144
-49933 0;
#X text 110 601 1\.;
#X text 150 601 symbol;
#X obj 246 602 cnv 1 47 20 empty empty empty 17 7 0 10 -245695 -1 0;
#X text 245 601 ARRAY: array name. Type: symbol.;
#X text 110 621 2\.;
#X text 150 621 int;
#X obj 246 622 cnv 1 69 20 empty empty empty 17 7 0 10 -245695 -1 0;
#X text 245 621 BS(samp): buffer size. Type: int. Min value: 64;
#X text 110 641 3\.;
#X text 150 641 symbol;
#X obj 246 642 cnv 1 55 20 empty empty empty 17 7 0 10 -245695 -1 0;
#X text 245 641 METHOD: detection method. Allowed values: default \,
hfc \, energy \, complex \, phase \, wphase \, specdiff \, kl \, mkl
\, specflux. . Type: symbol.;
#X text 110 691 4\.;
#X text 150 691 int;
#X obj 246 692 cnv 1 24 20 empty empty empty 17 7 0 10 -245695 -1 0;
#X text 245 691 HS: hop size (by default buffer_size/2). Type: int.
Min value: 0;
#X obj 20 736 cnv 1 745 1 empty empty empty 17 7 0 10 -203890 -1 0;
#X obj 20 741 cnv 5 98 26 empty empty properties: 4 10 0 14 -262144
-49933 0;
#X msg 110 776 @array;
#X text 245 776 Get/Set name of analyzed array. Type: symbol.;
#X msg 110 805 @awhitening;
#X text 245 805 Get/Set adaptive whitening. Type: int. Default value:
0\. Allowed values: 0 \, 1\.;
#X msg 110 847 @bs;
#X text 245 847 Get/Set buffer size. Type: int. Units: samp. Default
value: 1024\. Min value: 64\.;
#X msg 110 889 @complex;
#X text 245 889 alias to @method complex. Complex Domain Method onset
detection function.;
#X msg 110 931 @compression;
#X text 245 931 Get/Set lambda logarithmic compression factor \, 0
to disable. Type: float. Default value: 1\. Min value: 0\.;
#X msg 110 973 @delay;
#X text 245 973 Get/Set constant system delay to take back from detection
time. Type: float. Units: ms. Default value: 49.9093\. Min value: 0\.;
#X msg 110 1030 @energy;
#X text 245 1030 alias to @method energy. Energy based onset detection
function.;
#X msg 110 1072 @hfc;
#X text 245 1072 alias to @method hfc. High Frequency Content onset
detection.;
#X msg 110 1101 @hs;
#X text 245 1101 Get/Set hop size. 0 means @bs/2\. Type: int. Units:
samp. Default value: 0\. Min value: 0\.;
#X msg 110 1143 @kl;
#X text 245 1143 alias to @method kl. Kullback-Liebler onset detection
function.;
#X msg 110 1185 @method;
#X text 245 1185 Get/Set onset method. Default is hfc. Type: symbol.
Default value: default. Allowed values: specflux \, phase \, energy
\, hfc \, kl \, complex \, default \, specdiff \, wphase \, rolloff
\, spread \, kurtosis \, skewness \, complexdomain \, decrease \, slope
\, centroid.;
#X msg 110 1257 @mkl;
#X text 245 1257 alias to @method mkl. Modified Kullback-Liebler onset
detection function.;
#X msg 110 1299 @phase;
#X text 245 1299 alias to @method phase. Phase Based Method onset detection
function.;
#X msg 110 1341 @silence;
#X text 245 1341 Get/Set onset detection silence threshold. Type: float.
Units: db. Default value: -70\. Range: -80\...0\.;
#X msg 110 1383 @specdiff;
#X text 245 1383 alias to @method specdiff. Spectral difference method
onset detection function.;
#X msg 110 1425 @specflux;
#X text 245 1425 alias to @method specflux. Spectral Flux.;
#X msg 110 1454 @speedlim;
#X text 245 1454 Get/Set minimum interval between two consecutive onsets.
Type: float. Units: ms. Default value: 50\. Min value: 1\.;
#X msg 110 1496 @threshold;
#X text 245 1496 Get/Set peak picking threshold. Type: float. Default
value: 0.058\.;
#X msg 110 1538 @wphase;
#X text 245 1538 alias to @method phase. Weighted Phase Deviation onset
detection function.;
#X obj 20 1590 cnv 1 745 1 empty empty empty 17 7 0 10 -203890 -1 0;
#X obj 20 1595 cnv 5 64 26 empty empty inlets: 4 10 0 14 -262144
-49933 0;
#X text 110 1596 1\.;
#X text 150 1596 *bang*;
#X text 245 1596 analyze array.;
#X obj 20 1626 cnv 1 745 1 empty empty empty 17 7 0 10 -203890 -1 0;
#X obj 20 1631 cnv 5 73 26 empty empty outlets: 4 10 0 14 -262144
-49933 0;
#X text 110 1632 1\.;
#X text 245 1632 output list of detected onsets.;
#X obj 10 48 ui.link @title index @url ../index-help.pd;
#X text 51 45 ::;
#X obj 67 48 ui.link @title ceammc @url ceammc-help.pd;
#X text 115 45 ::;
#X obj 131 48 ui.link @title an @url ceammc.an-help.pd;
#X obj 1 1682 cnv 5 765 48 empty empty empty 17 7 0 10 -203890 -1 0;
#X text 10 1685 library: ceammc v0.9.4;
#X text 600 1697 see also:;
#X obj 674 1697 an.onset~;
#N canvas 10 1704 400 290 info 0;
#X obj 1 1 cnv 1 107 287 empty empty empty 17 7 0 10 -183085 -1 0;
#X text 10 10 library:;
#X text 120 10 ceammc;
#X text 10 32 version:;
#X text 120 32 0.9.4;
#X text 10 54 object:;
#X text 120 54 an.onset;
#X text 10 76 category:;
#X text 120 76 an;
#X text 10 98 since:;
#X text 120 98 0.9;
#X text 10 120 authors:;
#X text 120 120 Serge Poltavsky;
#X text 10 142 license:;
#X text 120 142 GPL3 or later;
#X text 10 164 keywords:;
#X text 120 164 onset;
#X text 10 186 website:;
#X obj 120 189 ui.link @title https://github.com/uliss/pure-data @url
https://github.com/uliss/pure-data;
#X obj 120 208 declare -lib ceammc;
#X obj 120 268 cnv 1 270 1 empty empty empty 17 7 0 10 -203890 -1 0;
#X text 120 268 generated by pddoc;
#X restore 10 1704 pd info;
#X connect 7 0 10 0;
#X connect 9 0 11 0;
#X connect 10 0 12 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 17 0;
#X connect 16 0 20 0;
#X connect 17 0 21 0;
#X connect 18 0 22 0;
#X connect 19 0 22 1;
#X connect 20 0 23 0;
#X connect 21 0 24 0;
#X connect 22 0 24 0;
#X connect 24 0 27 0;
#X connect 25 0 28 0;
#X connect 25 0 29 0;
#X connect 26 0 30 0;
#X connect 27 0 31 0;
#X connect 28 0 32 0;
#X connect 29 0 32 0;
#X connect 30 0 32 0;
#X connect 31 0 33 0;
#X connect 32 0 34 0;
#X connect 34 0 36 0;
#X connect 34 0 36 1;
#X connect 19 0 27 1;
#X connect 15 0 21 0;
#X connect 19 0 30 0;
#X connect 25 0 16 0;