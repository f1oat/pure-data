#ifndef ceammc_rimg_h
#define ceammc_rimg_h

/* Warning, this file is autogenerated by cbindgen. Don't modify this manually. */

#include <cstdint>
#include <cstddef>


enum class RImgResultCode {
  Ok,
  FileNotFound,
  UnknownImageFormat,
  InvalidFileName,
  InvalidString,
};

/// A ffi compatible description of a sample buffer.
struct RImgSampleLayout {
  /// The number of channels in the color representation of the image.
  uint8_t channels;
  /// Add this to an index to get to the sample in the next channel.
  size_t channel_stride;
  /// The width of the represented image.
  uint32_t width;
  /// Add this to an index to get to the next sample in x-direction.
  size_t width_stride;
  /// The height of the represented image.
  uint32_t height;
  /// Add this to an index to get to the next sample in y-direction.
  size_t height_stride;
};

struct RImgResult {
  const uint8_t *data;
  size_t len;
};


extern "C" {

RImgResultCode rimg_decode_image(const char *fname, RImgSampleLayout *layout, RImgResult *result);

void rimg_free_result(RImgResult *res);

} // extern "C"

#endif // ceammc_rimg_h
